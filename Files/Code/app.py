from flask import Flask, render_template, request
import pandas as pd
import joblib

app = Flask(__name__)

location = {'AECS Layout': 0,
 'Akshaya nagar': 1,
 'Alaknanda': 2,
 'Anand Niketan': 3,
 'Anand Vihar': 4,
 'Andheri': 5,
 'Andheri East': 6,
 'Andheri West': 7,
 'Arekere': 8,
 'Ashok Vihar': 9,
 'Ashok Vihar Phase 1': 10,
 'Ashok Vihar Phase 3': 11,
 'Ashoknagar': 12,
 'Avalahalli': 13,
 'BTM Layout': 14,
 'BTM Layout 1st Stage': 15,
 'BTM Layout 2nd Stage': 16,
 'Bagalakunte': 17,
 'Banashankari': 18,
 'Banashankari 1st Stage': 19,
 'Banashankari 2nd Stage': 20,
 'Banashankari 3rd Stage': 21,
 'Banaswadi': 22,
 'Bandra East': 23,
 'Bandra West': 24,
 'Bannerghatta Road': 25,
 'Basavanagudi': 26,
 'Basaveshwaranagar': 27,
 'Belathur': 28,
 'Bellandur': 29,
 'Bhandup': 30,
 'Bhandup West': 31,
 'Bommanahalli': 32,
 'Borivali': 33,
 'Borivali East': 34,
 'Borivali West': 35,
 'Burari': 36,
 'CR Park': 37,
 'CV Raman Nagar': 38,
 'Chandivali': 39,
 'Charni Road': 40,
 'Chattarpur': 41,
 'Chembur': 42,
 'Chembur East': 43,
 'Chinchpokli': 44,
 'Churchgate': 45,
 'Colaba': 46,
 'Cox Town': 47,
 'Cuffe Parade': 48,
 'Cumballa Hill': 49,
 'Cunningham Road': 50,
 'Dadar': 51,
 'Dadar East': 52,
 'Dadar West': 53,
 'Dahisar East': 54,
 'Dahisar West': 55,
 'Dasarahalli': 56,
 'Dashrath Puri': 57,
 'Defence Colony': 58,
 'Dilshad Garden': 59,
 'Domlur': 60,
 'Dwarka': 61,
 'Dwarka Sector 1': 62,
 'Dwarka Sector 11': 63,
 'Dwarka Sector 12': 64,
 'Dwarka Sector 13': 65,
 'Dwarka Sector 19': 66,
 'Dwarka Sector 22': 67,
 'Dwarka Sector 23': 68,
 'Dwarka Sector 6': 69,
 'Dwarka Sector 7': 70,
 'East Of Kailash': 71,
 'Electronics City': 72,
 'Elphinstone Road': 73,
 'Fort': 74,
 'Frazer Town': 75,
 'Ghatkopar': 76,
 'Ghatkopar East': 77,
 'Ghatkopar West': 78,
 'Girgaon': 79,
 'Goregaon': 80,
 'Goregaon East': 81,
 'Goregaon West': 82,
 'Govandi': 83,
 'Grant Road': 84,
 'Greater Kailash': 85,
 'Greater Kailash Part 1': 86,
 'Greater Kailash Part 2': 87,
 'Green Park': 88,
 'Gujranwala Town': 89,
 'Gulmohar Park': 90,
 'Gunjur': 91,
 'HBR Layout': 92,
 'HRBR Layout': 93,
 'HSR Layout': 94,
 'Hajiali': 95,
 'Hari Nagar': 96,
 'Harlur': 97,
 'Hauz Khas': 98,
 'Hebbal': 99,
 'Hebbal Kempapura': 100,
 'Hennur': 101,
 'Hongasandra': 102,
 'Hoodi': 103,
 'Horamavu': 104,
 'Hosur Road': 105,
 'Hulimavu': 106,
 'IP Extension': 107,
 'Indiranagar': 108,
 'JB Nagar': 109,
 'JP Nagar': 110,
 'JP Nagar 1 Phase': 111,
 'JP Nagar 2 Phase': 112,
 'JP Nagar 5 Phase': 113,
 'JP Nagar 6 Phase': 114,
 'JP Nagar 7 Phase': 115,
 'Jacob Circle': 116,
 'Jagriti Enclave': 117,
 'Jamia Nagar': 118,
 'Janakpuri': 119,
 'Jangpura': 120,
 'Jayanagar': 121,
 'Jayanagar 4 Block': 122,
 'Jayanagar 5 Block': 123,
 'Jayanagar 7 Block': 124,
 'Jayanagar 9 Block': 125,
 'Jeevanbhimanagar': 126,
 'Jhandewalan': 127,
 'Jigani': 128,
 'Jogeshwari': 129,
 'Jogeshwari East': 130,
 'Jogeshwari West': 131,
 'Juhu': 132,
 'KR Puram': 133,
 'Kadubeesanahalli': 134,
 'Kadugodi': 135,
 'Kaggadasapura': 136,
 'Kailash Colony': 137,
 'Kalkaji': 138,
 'Kalyan Nagar': 139,
 'Kamla Nagar': 140,
 'Kammana Halli': 141,
 'Kanakpura Road': 142,
 'Kandivali': 143,
 'Kandivali East': 144,
 'Kandivali West': 145,
 'Kanjurmarg': 146,
 'Karkardooma': 147,
 'Karol Bagh': 148,
 'Kasavanahalli': 149,
 'Kasturi nagar': 150,
 'Kemps Corner': 151,
 'Kengeri': 152,
 'Khanpur': 153,
 'Khar West': 154,
 'Khetwadi': 155,
 'Kilokri': 156,
 'Kirti Nagar': 157,
 'Kodichikkanahalli': 158,
 'Kogilu': 159,
 'Koramangala': 160,
 'Koramangala 1 Block': 161,
 'Koramangala 3 Block': 162,
 'Koramangala 5 Block': 163,
 'Koramangala 6 Block': 164,
 'Koramangala 7 Block': 165,
 'Krishna Nagar': 166,
 'Kudlu': 167,
 'Kumara Park West': 168,
 'Kumaraswamy Layout': 169,
 'Kundalahalli': 170,
 'Kurla': 171,
 'Kurla East': 172,
 'Kurla West': 173,
 'Lajpat Nagar': 174,
 'Lajpat Nagar 4': 175,
 'Lal baug': 176,
 'Lamington Road': 177,
 'Laxmi Nagar': 178,
 'Linking Road': 179,
 'Lokhandwala': 180,
 'Lower Parel': 181,
 'MG Road': 182,
 'MS Palya': 183,
 'Madhu Vihar': 184,
 'Mahadevapura': 185,
 'Mahalakshmi Layout': 186,
 'Mahalaxmi': 187,
 'Maharani Bagh': 188,
 'Mahavir Enclave': 189,
 'Mahim': 190,
 'Mahipalpur': 191,
 'Malabar Hill': 192,
 'Malad': 193,
 'Malad East': 194,
 'Malad West': 195,
 'Malleswaram': 196,
 'Malviya Nagar': 197,
 'Marathahalli': 198,
 'Marine Lines': 199,
 'Marol': 200,
 'Mathikere - BEL': 201,
 'Matunga': 202,
 'Matunga West': 203,
 'Mayur Vihar Ph-I': 204,
 'Mayur Vihar Ph-II': 205,
 'Mazgaon': 206,
 'Mehrauli': 207,
 'Millers Road': 208,
 'Mira Bhayandar': 209,
 'Mira Road': 210,
 'Model Town 1': 211,
 'Moti Nagar': 212,
 'Mulund': 213,
 'Mulund East': 214,
 'Mulund West': 215,
 'Mumbai Central': 216,
 'Munirka': 217,
 'Munnekollal': 218,
 'Nagarbhavi': 219,
 'Nagasandra': 220,
 'Nagawara': 221,
 'Nagpada': 222,
 'Nana Chowk': 223,
 'Naraina': 224,
 'Nariman Point': 225,
 'Nehru Place': 226,
 'New BEL Road': 227,
 'New Friends Colony': 228,
 'New Rajendra Nagar': 229,
 'New Thippasandra': 230,
 'Okhla': 231,
 'Okhla Industrial Estate': 232,
 'Old Airport Road': 233,
 'Old Rajendra Nagar': 234,
 'Opera House': 235,
 'Oshiwara': 236,
 'Padmanabhanagar': 237,
 'Panathur': 238,
 'Panchsheel Enclave': 239,
 'Panchsheel Park': 240,
 'Pandav Nagar': 241,
 'Parel': 242,
 'Paschim Vihar': 243,
 'Patel Nagar': 244,
 'Patel Nagar East': 245,
 'Patel Nagar West': 246,
 'Patparganj': 247,
 'Peddar Road': 248,
 'Peenya': 249,
 'Pitampura': 250,
 'Powai': 251,
 'Prabhadevi': 252,
 'Prashant Vihar': 253,
 'Preet Vihar': 254,
 'Punjabi Bagh': 255,
 'Pusa Road': 256,
 'RK Puram': 257,
 'RT Nagar': 258,
 'Rajajinagar': 259,
 'Rajanukunte': 260,
 'Rajarajeshwarinagar': 261,
 'Rajouri Garden': 262,
 'Ram Nagar': 263,
 'Richmond Town': 264,
 'Rohini': 265,
 'Rohini Sector 11': 266,
 'Rohini Sector 15': 267,
 'Rohini Sector 16': 268,
 'Rohini Sector 18': 269,
 'Rohini Sector 22': 270,
 'Rohini Sector 24': 271,
 'Rohini Sector 3': 272,
 'Rohini Sector 7': 273,
 'Rohini Sector 8': 274,
 'Rohini Sector 9': 275,
 'Sadashivanagar': 276,
 'Safdarjung Development Area': 277,
 'Safdarjung Enclave': 278,
 'Sahakaranagar': 279,
 'Saket': 280,
 'Sampangiramnagar': 281,
 'Sanjay Nagar': 282,
 'Santacruz': 283,
 'Santacruz East': 284,
 'Santacruz West': 285,
 'Sarita Vihar': 286,
 'Sarjapur Road': 287,
 'Sarjapura': 288,
 'Seegehalli': 289,
 'Seshadripuram': 290,
 'Shakti Nagar': 291,
 'Shalimar Bagh': 292,
 'Shastri Nagar': 293,
 'Sheikh Sarai': 294,
 'Shivalik': 295,
 'Singasandra': 296,
 'Sion': 297,
 'Sion East': 298,
 'Sion West': 299,
 'Siri Fort Road': 300,
 'South Extension 1': 301,
 'South Extension 2': 302,
 'Subhash Nagar': 303,
 'Sunkadakatte': 304,
 'Surajmal Vihar': 305,
 'Tagore Garden': 306,
 'Tardeo': 307,
 'Thanisandra': 308,
 'Tilak Nagar': 309,
 'Ulsoor': 310,
 'Uttam Nagar': 311,
 'Varthur': 312,
 'Vasant Kunj': 313,
 'Vasant Vihar': 314,
 'Vasanthnagar': 315,
 'Vasundhra Enclave': 316,
 'Versova': 317,
 'Vidyaranyapura': 318,
 'Vidyavihar': 319,
 'Vijayanagar': 320,
 'Vijaynagar': 321,
 'Vikas Puri': 322,
 'Vikhroli': 323,
 'Vikhroli East': 324,
 'Vileparle East': 325,
 'Vileparle West': 326,
 'Vinayaka Nagar': 327,
 'Vivek Vihar': 328,
 'Wadala': 329,
 'Walkeshwar': 330,
 'West Of Chord Road': 331,
 'Whitefield': 332,
 'Worli': 333,
 'Yelachenahalli': 334,
 'Yelahanka': 335,
 'Yelahanka New Town': 336,
 'Yeshwanthpur': 337}

degree = {'B.Sc. - Home Science (Food & Nutrition)': 0,
 'BAMS': 1,
 'BAMS, DNHE': 2,
 'BAMS, Fellowship in Applied Nutrition(FAN)': 3,
 'BDS': 4,
 'BDS, Diploma in Implanthology': 5,
 'BDS, Fellowship and Diplomate in Implantology from ICOI (USA)': 6,
 'BDS, Fellowship in Oral implantlogy': 7,
 'BDS, MDS': 8,
 'BDS, MDS - Community Dentistry': 9,
 'BDS, MDS - Conservative Dentistry & Endodontics': 10,
 'BDS, MDS - Conservative Dentistry & Endodontics, Diploma in Implanthology': 11,
 'BDS, MDS - Operative Dentistry': 12,
 'BDS, MDS - Oral & Maxillofacial Surgery': 13,
 'BDS, MDS - Oral & Maxillofacial Surgery, FICOI': 14,
 'BDS, MDS - Oral Medicine and Radiology': 15,
 'BDS, MDS - Oral Medicine and Radiology, Certificate in Dental Implants, Certificate of Oral Implantology': 16,
 'BDS, MDS - Oral Pathology and Oral Microbiology': 17,
 'BDS, MDS - Oral Pathology and Oral Microbiology, DICOI': 18,
 'BDS, MDS - Orthodontics': 19,
 'BDS, MDS - Orthodontics and Dentofacial Orthopaedics': 20,
 'BDS, MDS - Orthodontics and Dentofacial Orthopaedics, Certificate in Cosmetic Dentistry': 21,
 'BDS, MDS - Paedodontics And Preventive Dentistry': 22,
 'BDS, MDS - Pedodontics, Certificate of Oral Implantology': 23,
 'BDS, MDS - Periodontics': 24,
 'BDS, MDS - Periodontics, FICOI': 25,
 'BDS, MDS - Periodontology and Oral Implantology': 26,
 'BDS, MDS - Prosthodontics': 27,
 'BDS, MDS - Prosthodontics, Fellowship and Diplomate in Implantology from ICOI (USA), PGDE (Cosmetic & Esthetic Dentist)': 28,
 'BDS, MDS - Prosthodontist And Crown Bridge': 29,
 'BDS, MDS - Prosthodontist And Crown Bridge, Certificate of Oral Implantology': 30,
 'BDS, MDS - Public Health Dentistry': 31,
 'BDS, MDS, Certificate of Oral Implantology, PGCE(Endodontics), PGCE(Endodontics), FICOI': 32,
 'BDS, MDS- Oral Pathology': 33,
 'BDS, MICOI (USA)': 34,
 'BDS, PhD - Orthodontics & Dentofacial Orthopaedics': 35,
 'BDS, Post Graduate Diploma In Aesthetic & Restorative Dentistry': 36,
 'BPTh/BPT': 37,
 'BPTh/BPT, Diploma in Diet and Nutrition': 38,
 'BPTh/BPT, Doctor of Chiropractic': 39,
 'BPTh/BPT, MPTh/MPT - Cardiovascular & Pulmonary Physiotherapy': 40,
 'BPTh/BPT, MPTh/MPT - Musculoskeletal Physiotherapy': 41,
 'BPTh/BPT, MPTh/MPT - Neurological Physiotherapy': 42,
 'BPTh/BPT, MPTh/MPT - Orthopedic Physiotherapy': 43,
 'BPTh/BPT, MPTh/MPT - Orthopedic Physiotherapy, Diploma in Physiotherapy': 44,
 'BPTh/BPT, MPTh/MPT - Sports Physiotherapy': 45,
 'BPTh/BPT, Masters of Physiotheraphy': 46,
 'BSc - Dietitics / Nutrition': 47,
 'BSc - Dietitics / Nutrition, M.Sc. - Food and Nutrition': 48,
 'Certificate in Food and Nutrition': 49,
 'DDV, MBBS': 50,
 'DDVL, MBBS': 51,
 'DGO, DNB - Obstetrics & Gynecology': 52,
 'DGO, DNB - Obstetrics & Gynecology, MBBS': 53,
 'DGO, MBBS': 54,
 'DGO, MBBS, DNB - Obstetrics & Gynecology': 55,
 'DM - Cardiology': 56,
 'DM - Cardiology, MBBS': 57,
 'DM - Cardiology, MD - General Medicine, DNB - General Medicine, MBBS': 58,
 'DM - Cardiology, MD - General Medicine, MBBS': 59,
 'DM - Cardiology, MD - Medicine, MBBS': 60,
 'DM - Cardiology, MD - Pediatrics, MBBS': 61,
 'DM - Neurology, MBBS': 62,
 'DM - Neurology, MBBS, MD - General Medicine': 63,
 'DM - Neurology, MD - Medicine, MBBS': 64,
 'DM - Neurology, MD - Pediatrics, MD - Pathology, MBBS': 65,
 'DNB - Dermatology & Venereology, MBBS, DDVL': 66,
 'DNB - Obstetrics & Gynecology, DGO, MNAMS - Obstetrics & Gynaecology, MBBS': 67,
 'DNB - Paediatrics, Diploma in Child Health (DCH), MBBS, FNB -  Pediatric Hematology Oncology': 68,
 'DNB - Paediatrics, MBBS': 69,
 'DNB - Psychiatry, MBBS': 70,
 'DNB - Urology/Genito - Urinary Surgery, MBBS, MS - General Surgery': 71,
 'DNHE': 72,
 'DNHE, Diploma in Dietetics, Health and Nutrition (DDHN), Post Graduation Diploma in Dietetics and Public Health Nutrition': 73,
 'DPM (Psychiatry), MBBS': 74,
 'Diploma in Diet and Nutrition': 75,
 'Diploma in Diet and Nutrition, BSc - Dietitics / Nutrition': 76,
 'Diploma in Dietetics & Public Health Nutrition (DDPHN)': 77,
 'Diploma in Dietetics & Weight Management, PG Diploma in Preventive & Applied Nutrition': 78,
 'Diploma in Dietetics, Health and Nutrition (DDHN)': 79,
 'Diploma in Nutrition and Health Education': 80,
 'Diploma in Nutrition and Health Education, Diploma in Diet and Nutrition, Diploma in Diet and Nutrition': 81,
 'Diploma in Physiotherapy': 82,
 'Doctor of Medicine, DNB - General Medicine, DNB - Cardiology': 83,
 'FRCP, DM - Neurology, MBBS': 84,
 'Fellow of the Royal College of Pediatrics and Child Health (UK), MBBS, Diploma in Child Health (DCH - UK)': 85,
 'M.D. (Psychiatry), MBBS': 86,
 'M.D. (Psychiatry), MBBS, Master of Public Health (MPH)': 87,
 'M.Sc. - Food and Nutrition': 88,
 'M.Sc. - Home Science (Food & Nutrition)': 89,
 'MBBS,  FRCP, Member of the Royal College of Paediatrics and Child Health (MRCPCH, London, Glasgow or Edinburgh)': 90,
 'MBBS, DDV': 91,
 'MBBS, DDVL': 92,
 'MBBS, DGO': 93,
 'MBBS, DGO, DNB - Obstetrics & Gynecology': 94,
 'MBBS, DGO, Fellow of Indian College of Obstetrics and Gynecology (FICOG)': 95,
 'MBBS, DGO, MD - Physiology': 96,
 'MBBS, DGO, MRCOG(UK)': 97,
 'MBBS, DM - Cardiology': 98,
 'MBBS, DM - Cardiology, DNB - General Medicine': 99,
 'MBBS, DM - Cardiology, DNB - General Medicine, MD - General Medicine': 100,
 'MBBS, DM - Cardiology, MD - General Medicine': 101,
 'MBBS, DM - Cardiology, MD - Pediatrics': 102,
 'MBBS, DM - Neurology': 103,
 'MBBS, DM - Neurology, MD - General Medicine': 104,
 'MBBS, DM - Neurology, MD - Medicine': 105,
 'MBBS, DNB - Cardiothoracic Surgery': 106,
 'MBBS, DNB - Dermatology & Venereology': 107,
 'MBBS, DNB - Dermatology & Venereology, MD - Dermatology , Venereology & Leprosy': 108,
 'MBBS, DNB - Family Medicine, DNHE': 109,
 'MBBS, DNB - General Medicine, DM - Cardiology': 110,
 'MBBS, DNB - General Medicine, DM - Cardiology, FACC': 111,
 'MBBS, DNB - General Medicine, DNB - Cardiology': 112,
 'MBBS, DNB - General Medicine, MRCP (UK), DNB - Cardiology': 113,
 'MBBS, DNB - General Surgery, DNB - Urology/Genito - Urinary Surgery': 114,
 'MBBS, DNB - Neurology, DM - Neurology': 115,
 'MBBS, DNB - Neurology, DNB - General Medicine': 116,
 'MBBS, DNB - Neurosurgery': 117,
 'MBBS, DNB - Obstetrics & Gynecology': 118,
 'MBBS, DNB - Obstetrics & Gynecology, DGO': 119,
 'MBBS, DNB - Paediatrics': 120,
 'MBBS, DNB - Paediatrics, Diploma in Child Health (DCH)': 121,
 'MBBS, DNB - Paediatrics, Post Doctoral fellowship in Pediatric Critical Care Medicine': 122,
 'MBBS, DNB - Pediatrics': 123,
 'MBBS, DNB - Psychiatry': 124,
 'MBBS, DPM (Psychiatry)': 125,
 'MBBS, DPM (Psychiatry), DNB - Psychiatry': 126,
 'MBBS, DVD': 127,
 'MBBS, DVD, DNB - Dermatology & Venereology': 128,
 'MBBS, DVD, MD - Dermatology , Venereology & Leprosy': 129,
 'MBBS, Diploma in Cardiology': 130,
 'MBBS, Diploma in Child Health (DCH)': 131,
 'MBBS, Diploma in Child Health (DCH), DNB - Paediatrics': 132,
 'MBBS, Diploma in Child Health (DCH), DNB - Pediatrics': 133,
 'MBBS, Diploma in Child Health (DCH), MD - Pediatrics': 134,
 'MBBS, Diploma in Child Health (DCH), MRCP (UK)': 135,
 'MBBS, Diploma in Dermatology': 136,
 'MBBS, Diploma in Urology': 137,
 'MBBS, Diplomate of American Board of Internal Medicine (Internal Medicine), Diplomate in Cardiovascular Disease, Diplomate in Interventional Cardiology, Diplomate, American Board of Endovascular Medicine': 138,
 'MBBS, Diplomate of American Board of Psychiatry and Neurology': 139,
 'MBBS, Diplomate of the American Board of Paediatrics': 140,
 'MBBS, Fellow of the Royal College of Physicians of Canada (FRCP Canada), FACC': 141,
 'MBBS, M.D. (Psychiatry)': 142,
 'MBBS, M.D. (Psychiatry), DNB - Psychiatry': 143,
 'MBBS, M.D. (Psychiatry), DPM (Psychiatry)': 144,
 'MBBS, MCh - Neuro Surgery, FRCS - Neurosurgery, MS - General Surgery': 145,
 'MBBS, MD - (Dermatology & STD)': 146,
 'MBBS, MD - Anaesthesiology, Diploma in Paediatrics': 147,
 'MBBS, MD - Dermatology': 148,
 'MBBS, MD - Dermatology , Venereology & Leprosy': 149,
 'MBBS, MD - Dermatology , Venereology & Leprosy, DNB - Dermatology & Venereology': 150,
 'MBBS, MD - Dermatology , Venereology & Leprosy, Fellowship In Cosmetic And Plastic Surgery': 151,
 'MBBS, MD - Dermatology and Venerology': 152,
 'MBBS, MD - General Medicine, DM - Cardiology': 153,
 'MBBS, MD - General Medicine, DM - Cardiology,  FRCP': 154,
 'MBBS, MD - General Medicine, DM - Cardiology, DNB - Cardiology': 155,
 'MBBS, MD - General Medicine, DM - Cardiology, FACC': 156,
 'MBBS, MD - General Medicine, DM - Cardiology, Fellowship In Interventional  Cardiology': 157,
 'MBBS, MD - General Medicine, DM - Neurology': 158,
 'MBBS, MD - General Medicine, DNB - Cardiology': 159,
 'MBBS, MD - General Medicine, DNB - Cardiology, DM - Cardiology': 160,
 'MBBS, MD - General Medicine, DNB - Cardiology, FNB - Interventional  Cardiology': 161,
 'MBBS, MD - General Medicine, DNB - Cardiology, Fellowship In Interventional  Cardiology': 162,
 'MBBS, MD - General Medicine, DNB - Cardiology, MNAMS - Cardiology': 163,
 'MBBS, MD - General Medicine, DNB - General Medicine, DM - Cardiology': 164,
 'MBBS, MD - General Medicine, DNB - General Medicine, DNB - Cardiology': 165,
 'MBBS, MD - General Medicine, DNB - Neurology': 166,
 'MBBS, MD - General Medicine, Diploma in Cardiology': 167,
 'MBBS, MD - General Medicine, FACC, Diploma in Tuberculosis and Chest Diseases (DTCD)': 168,
 'MBBS, MD - Medicine, DM - Cardiology': 169,
 'MBBS, MD - Medicine, DM - Cardiology, FACC': 170,
 'MBBS, MD - Medicine, DM - Cardiology, Fellowship In Interventional  Cardiology': 171,
 'MBBS, MD - Medicine, DM - Cardiology, MNAMS - General Surgery': 172,
 'MBBS, MD - Medicine, DM - Neurology': 173,
 'MBBS, MD - Medicine, DNB - Cardiology': 174,
 'MBBS, MD - Medicine, DNB - Cardiology, DM - Cardiology': 175,
 'MBBS, MD - Medicine, DNB - General Medicine, DM - Neurology': 176,
 'MBBS, MD - Medicine, Diplomate of American Board of Psychiatry and Neurology': 177,
 'MBBS, MD - Medicine, FNB - Interventional  Cardiology, DM - Cardiology': 178,
 'MBBS, MD - Midwifery & Gynecology': 179,
 'MBBS, MD - Neurology (USA)': 180,
 'MBBS, MD - Obstetrics & Gynaecology': 181,
 'MBBS, MD - Obstetrics & Gynaecology, DGO': 182,
 'MBBS, MD - Obstetrics & Gynaecology, DNB - Obstetrics & Gynecology': 183,
 'MBBS, MD - Obstetrics & Gynaecology, Diploma in Advanced Endoscopic Gynae Surgery': 184,
 'MBBS, MD - Obstetrics & Gynaecology, Fellow of Indian College of Obstetrics and Gynecology (FICOG)': 185,
 'MBBS, MD - Obstetrics & Gynaecology, Fellow of Indian College of Obstetrics and Gynecology (FICOG), FICS': 186,
 'MBBS, MD - Obstetrics & Gynaecology, MRCOG(UK)': 187,
 'MBBS, MD - Pediatrics': 188,
 'MBBS, MD - Pediatrics, DM - Neonatology': 189,
 'MBBS, MD - Pediatrics, DNB - Neonatology': 190,
 'MBBS, MD - Pediatrics, DNB - Paediatrics': 191,
 'MBBS, MD - Pediatrics, DNB - Paediatrics, DM - Cardiology': 192,
 'MBBS, MD - Pediatrics, FNB - Pediatric Intensive Care': 193,
 'MBBS, MD - Pediatrics, FRCPCH': 194,
 'MBBS, MD - Pediatrics, Fellowship in Neonatology': 195,
 'MBBS, MD - Pharmacology and Therapeutics, DM - Neurology': 196,
 'MBBS, MD - Skin & VD': 197,
 'MBBS, MD - Skin,VD & Leprosy': 198,
 'MBBS, MRCOG(UK)': 199,
 'MBBS, MRCP (UK), CCT - Cardiology': 200,
 'MBBS, MRCPsych, M.D. (Psychiatry)': 201,
 'MBBS, MS - General Surgery, DNB - General Surgery, DNB - Urology/Genito - Urinary Surgery': 202,
 'MBBS, MS - General Surgery, DNB - Urology/Genito - Urinary Surgery': 203,
 'MBBS, MS - General Surgery, DNB - Urology/Genito - Urinary Surgery, MCh - Urology': 204,
 'MBBS, MS - General Surgery, Diploma in Urology': 205,
 'MBBS, MS - General Surgery, MCh - Cardio Thoracic Surgery': 206,
 'MBBS, MS - General Surgery, MCh - Cardio Thoracic and Vascular Surgery': 207,
 'MBBS, MS - General Surgery, MCh - Neuro Surgery': 208,
 'MBBS, MS - General Surgery, MCh - Urology': 209,
 'MBBS, MS - General Surgery, MCh - Urology, DNB - Urology/Genito - Urinary Surgery': 210,
 'MBBS, MS - General Surgery, MCh - Urology, Fellowship in Laparoscopic and Robotic Surgical Oncology': 211,
 'MBBS, MS - General Surgery, MCh - Urology/Genito-Urinary Surgery': 212,
 'MBBS, MS - General Surgery, MCh - Urology/Genito-Urinary Surgery, DNB - Urology/Genito - Urinary Surgery': 213,
 'MBBS, MS - General Surgery, MCh - Urology/Genito-Urinary Surgery, DNB - Urology/Genito - Urinary Surgery, MNAMS - Urology': 214,
 'MBBS, MS - Obstetrics & Gynaecology': 215,
 'MBBS, MS - Obstetrics & Gynaecology, DNB - Obstetrics & Gynecology': 216,
 'MBBS, MS - Obstetrics & Gynaecology, DNB - Obstetrics & Gynecology, Fellowship in Urogynecology': 217,
 'MBBS, MS - Obstetrics & Gynaecology, MRCOG(UK)': 218,
 'MBBS, MS - Obstetrics & Gynaecology, MRCOG(UK), Fellow of Indian College of Obstetrics and Gynecology (FICOG)': 219,
 'MBBS, Masters in Clinical Dermatology': 220,
 'MBBS, Member of the Royal College of Paediatrics and Child Health (MRCPCH, London, Glasgow or Edinburgh)': 221,
 'MBBS, PhD - Cardiology, MRCP (UK)': 222,
 'MCh - Neuro Surgery, MS - General Surgery, MBBS': 223,
 'MCh - Urology, DNB - General Surgery, MBBS': 224,
 'MCh - Urology, MBBS, MS - General Surgery': 225,
 'MCh - Urology, MS - General Surgery, MBBS': 226,
 'MCh - Urology/Genito-Urinary Surgery, MS - General Surgery, MBBS': 227,
 'MD - Dermatology , Venereology & Leprosy': 228,
 'MD - Dermatology , Venereology & Leprosy, MBBS': 229,
 'MD - Dermatology and Venerology, MBBS': 230,
 'MD - Dermatology, MBBS': 231,
 'MD - General Medicine, DM - Cardiology, MBBS': 232,
 'MD - General Medicine, DNB - Cardiology, MBBS': 233,
 'MD - General Medicine, MBBS, DM - Neurology': 234,
 'MD - Medicine, DM - Cardiology': 235,
 'MD - Medicine, DM - Cardiology, MBBS': 236,
 'MD - Medicine, DM - Neurology, MBBS': 237,
 'MD - Obstetrics & Gynaecology, DNB - Obstetrics & Gynecology, MBBS, MNAMS - Obstetrics & Gynaecology': 238,
 'MD - Obstetrics & Gynaecology, MBBS': 239,
 'MD - Pediatrics, DNB - Paediatrics, MBBS': 240,
 'MD - Pediatrics, Diploma in Child Health (DCH), MBBS': 241,
 'MD - Pediatrics, MBBS': 242,
 'MD - Pediatrics, MBBS, DM - Cardiology': 243,
 'MD - Physician, DGO': 244,
 'MD - Physician, DNB - Dermatology & Venereology, Diploma in Dermatology': 245,
 'MD - Physician, Diploma in Child Health (DCH)': 246,
 'MD - Physician, MD - Dermatology , Venereology & Leprosy': 247,
 'MD - Psychological Medicine, MBBS': 248,
 'MDS - Conservative Dentistry & Endodontics, BDS': 249,
 'MDS - Oral & Maxillofacial Surgery, BDS': 250,
 'MDS - Oral & Maxillofacial Surgery, Fellowship in Aesthetic Medicine (FAM), BDS': 251,
 'MDS - Oral Pathology and Oral Microbiology, BDS': 252,
 'MDS - Orthodontics and Dentofacial Orthopaedics, BDS': 253,
 'MDS - Orthodontics, BDS': 254,
 'MDS - Paedodontics And Preventive Dentistry': 255,
 'MDS - Paedodontics And Preventive Dentistry, BDS': 256,
 'MDS - Periodontics, BDS': 257,
 'MDS - Periodontology and Oral Implantology, Certificate in Cosmetic Dentistry, BDS': 258,
 'MDS - Prosthodontics': 259,
 'MDS - Prosthodontics, BDS, Certificate in Dental Implants': 260,
 'MDS - Prosthodontist And Crown Bridge, BDS': 261,
 'MPTh/MPT - Musculoskeletal Physiotherapy': 262,
 'MPTh/MPT - Musculoskeletal Physiotherapy, BPTh/BPT': 263,
 'MPTh/MPT - Musculoskeletal Physiotherapy, DNHE, BPTh/BPT': 264,
 'MPTh/MPT - Neurological Physiotherapy, BPTh/BPT': 265,
 'MPTh/MPT - Orthopedic Physiotherapy': 266,
 'MPTh/MPT - Orthopedic Physiotherapy, BPTh/BPT': 267,
 'MPTh/MPT - Orthopedic Physiotherapy, BPTh/BPT, Diploma in Naturopathy & Yoga (NDDY), Diploma in Health Administration': 268,
 'MS - General Surgery, DNB - Urology/Genito - Urinary Surgery, MBBS': 269,
 'MS - Obstetrics & Gynaecology, MBBS': 270,
 'MSc - Dietitics / Nutrition': 271,
 'MSc - Dietitics / Nutrition, BSc. - Home Science': 272,
 'MSc - Food and Applied Nutrition, Diploma in Diet and Nutrition': 273,
 'MSc - Food and Applied Nutrition, Diploma in Naturopathy & Yoga (NDDY)': 274,
 'MSc - Nutrition and Dietetics': 275,
 'MSc - Nutrition and Dietetics, BSc. - Home Science': 276,
 'MSc. - Dietetics & Food Service Management': 277,
 'MSc. - Nutrition Sciences': 278,
 'PGD in Nutrition and Dietetics': 279,
 'Post Graduate Diploma in Applied Nutrition and Dietetics': 280,
 'Post Graduation Diploma in Dietetics': 281,
 'Post Graduation Diploma in Dietetics and Public Health Nutrition': 282}


special = {'Cardiologist': 0,
 'Dentist': 1,
 'Dermatologist': 2,
 'Dietitian': 3,
 'Gynecologist': 4,
 'Neurologist': 5,
 'Pediatrician': 6,
 'Physiotherapist': 7,
 'Psychiatrist': 8,
 'Urologist': 9}

city = {'Bangalore': 0, 'Delhi': 1, 'Mumbai': 2}


# load the trained model
model = joblib.load('docfee.pkl')

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/predict', methods=['POST'])
def predict():
    try:
        # get form data from the index.html template
        input_data = {
            'exp': int(request.form['exp']),
            'loc': request.form['loc'],
            'city':request.form['city'],   # change to string
            'spec':request.form['spec'],   # change to string
            'deg':request.form['deg']      # change to string
        }
        
        if input_data['loc'] in location.keys():
            input_data['loc'] = location[input_data['loc']]
            
        if input_data['city'] in city.keys():
            input_data['city'] = city[input_data['city']]
            
        if input_data['spec'] in special.keys():
            input_data['spec'] = special[input_data['spec']]
        
        
        if input_data['deg'] in degree.keys():
            input_data['deg'] = degree[input_data['deg']]
        
     

        # convert the input data to a dataframe
        input_df = pd.DataFrame([input_data])

        # use the trained model to make predictions on the input data
        prediction = model.predict(input_df)[0]

        # render the prediction in the index.html template
        return render_template('index.html', prediction=int(prediction))

    except Exception as e:
        # if there's an error, print it to the console and display an error message in the template
        print(e)
        error_message = "There was an error processing your request. Please try again."
        return render_template('index.html', error=error_message)

if __name__ == '__main__':
    app.run(debug=True)
